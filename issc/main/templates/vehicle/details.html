{% extends 'base.html' %}

{% block title %} Register Vehicle {% endblock title %} 
{% block content %} 
<h2>Registered Vehicles</h2>
<div class="vehicle-details">
  <form method="POST" action="">
  	{% csrf_token %}
    <div>
      <strong>First Name:</strong> {{ vehicle.first_name }}
    </div>
    <div>
      <strong>Middle Name:</strong> {{ vehicle.middle_name }}
    </div>
    <div>
      <strong>Last Name:</strong> {{ vehicle.last_name }}
    </div>
    <div>
      <strong>ID Number:</strong> {{ vehicle.id_number }}
    </div>
    <div>
      <strong>Contact Number:</strong> {{ vehicle.contact_number }}
    </div>
    <div>
      <strong>Email Address:</strong> {{ vehicle.email_address }}
    </div>
    <div>
      <strong>Role:</strong> {{ vehicle.role }}
    </div>
    <div>
      <strong>Vehicle Type:</strong> {{ vehicle.vehicle_type }}
    </div>
    <div>
      <strong>Color:</strong> {{ vehicle.color }}
    </div>
    <div>
      <strong>Model:</strong> {{ vehicle.model }}
    </div>
    <div>
      <strong>Plate Number:</strong> {{ vehicle.plate_number }}
    </div>
    <div>
      <strong>Sticker Number:</strong> {{ vehicle.sticker_number }}
    </div>
    <div>
      <strong>Guardian Name:</strong> {{ vehicle.guardian_name }}
    </div>
    <div>
      <strong>Guardian Number:</strong> {{ vehicle.guardian_number }}
    </div>
    <div>
      <strong>Driver's License:</strong> {{ vehicle.drivers_license }}
    </div>
    <div>
      <select class="form-input" name="status" style="width: 140px;">
        <option value="allowed" {% if vehicle.status == 'allowed' %}selected{% endif %}>allowed</option>
        <option value="restricted" {% if vehicle.status == 'restricted' %}selected{% endif %}>restricted</option>
      </select>
    </div>
    <div>
      <strong>QR Code:</strong>
      <img src="{{ vehicle.qr_code.url }}" alt="QR Code" width="100" height="100">
    </div>
    <div>
      <strong>Car Image:</strong>
      <img src="{{ vehicle.image.url }}" alt="Car Image" width="100" height="100">
    </div>
</div>
{% if user_role != 'student' %}
<button type="submit">Submit</button>
{% endif %}
</form>
<script type="text/javascript">
  function toggleEditFields(button) {
    const row = button.closest('tr'); // Get the closest row of the clicked button
    const inputs = row.querySelectorAll('.form-input'); // Select all input fields in the row
    inputs.forEach(input => {
      input.disabled = !input.disabled;
      input.style.cursor = input.disabled ? "not-allowed" : "auto";
    });
  }

  function confirmDelete() {
    return confirm('Do you really want to delete this user?');
  }
</script> {% endblock content %}